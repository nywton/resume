<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nywton Barros | Software Engineer - High-Impact Development</title>
    <!-- Load Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <!-- Load Font Awesome 6 CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Tailwind Configuration to define the custom 'nu-purple' color -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'nu-purple': {
                            'DEFAULT': '#820ad1', 
                            '50': '#f9f6fd',
                            '100': '#f0e9fa',
                            '200': '#e3d6f5',
                            '300': '#d3bdef',
                            '400': '#c09eed',
                            '500': '#ae7dee',
                            '600': '#820ad1', // The main signature purple
                            '700': '#6b00b8',
                            '800': '#54008a',
                            '900': '#410069',
                            '950': '#2c0044',
                        },
                    },
                },
            },
        };
    </script>

    <style>
        /* Base Styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #050505;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Glassmorphism Effect */
        .glass-card {
            background-color: rgba(31, 41, 55, 0.4); 
            backdrop-filter: blur(10px); 
            border: 1px solid rgba(75, 85, 99, 0.3); 
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); 
            border-radius: 0.75rem; 
        }

        /* Hero Glitch/Focus Animation - Updated for Purple Glow */
        .hero-title {
            animation: text-focus-in 1.5s cubic-bezier(0.550, 0.085, 0.680, 0.530, 0.530) both;
            text-shadow: 0 0 10px rgba(130, 10, 209, 0.5); /* NuPurple Glow (RGB from #820ad1) */
        }
        @keyframes text-focus-in {
            0% {
                filter: blur(8px);
                opacity: 0;
                letter-spacing: 0.5em;
            }
            100% {
                filter: blur(0);
                opacity: 1;
                letter-spacing: -0.02em;
            }
        }
        /* Custom modal visibility class */
        .modal-visible {
            display: flex !important;
        }

        /* Scrollbar styling for modal body */
        #modal-body::-webkit-scrollbar {
            width: 8px;
        }

        #modal-body::-webkit-scrollbar-thumb {
            background-color: #820ad1; /* Nu-Purple */
            border-radius: 4px;
        }

        #modal-body::-webkit-scrollbar-track {
            background: #1f2937; /* Dark Gray */
        }
        /* Styles to make the number animation smoother */
        .impact-number {
            transition: all 0.1s ease-out; /* Add transition for smoothness */
        }
    </style>
</head>
<body class="text-gray-100 antialiased">

    <!-- Sticky Header/Navigation -->
    <header class="sticky top-0 z-50 glass-card shadow-xl shadow-black/30">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <!-- Logo - Now Purple with Avatar/Icon -->
            <a href="#hero" class="text-2xl font-extrabold text-nu-purple-400 hover:text-nu-purple-300 transition duration-300 flex items-center">
                <i class="fa-solid fa-cube text-3xl mr-3"></i>
                
                <!-- START: Responsive Logo Text Change -->
                <span class="text-md md:text-3xl">Software Designer</span>
                <!-- END: Responsive Logo Text Change -->
            </a>
            
            <!-- Desktop Nav Links - Only Projects and Contact remain, with vertical alignment fixed -->
            <nav class="flex space-x-6 text-base font-medium items-center">
                <a href="#projects" class="hover:text-nu-purple-400 transition duration-200">Projects</a>
                <a href="#contact" class="px-4 py-2 border border-nu-purple-500 rounded-lg hover:bg-nu-purple-500/20 transition duration-200">Contact</a>
            </nav>
        </div>
    </header>

    <!-- 1. HERO SECTION (Title + One Sentence Impact) -->
    <section id="hero" class="relative overflow-hidden pt-16 pb-40 px-4 md:px-8 flex items-center justify-center min-h-[80vh]">    
        <div class="max-w-5xl mx-auto text-center relative z-10">
            <!-- NEW: 10+ Years Experience Text -->
            <p class="text-lg md:text-xl font-semibold text-gray-500 mb-2 tracking-wide uppercase">
                10+ Years Experience
            </p>
            <!-- Original Text -->
            <p class="text-xl md:text-2xl font-bold text-nu-purple-400 mb-4 tracking-widest uppercase opacity-75">
                Full Stack & Cloud Engineering
            </p>
            <h1 class="text-5xl md:text-7xl font-extrabold text-gray-50 mb-8 hero-title">
                Nywton Barros
            </h1>
            
            <!-- The One Sentence Impact -->
            <h2 class="text-3xl md:text-4xl font-light text-gray-300 max-w-4xl mx-auto leading-relaxed">
                "Transforming complex business logic into <span class="font-semibold text-nu-purple-300">resilient, user-centric software.</span>"
            </h2>

            <a href="#contact" class="mt-12 inline-flex items-center px-10 py-4 text-lg font-bold bg-nu-purple-600 rounded-full shadow-lg shadow-nu-purple-500/40 hover:bg-nu-purple-500 transition duration-300 transform hover:scale-[1.05]">
                Start a Conversation <i class="fas fa-arrow-right ml-3"></i>
            </a>
        </div>
    </section>

    <!-- 2. CORE COMPETENCIES SECTION (Tiled Content) -->
    <section id="competencies" class="py-20 md:py-28 px-4 md:px-8 bg-gray-900/20">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-4xl font-bold text-center mb-16 text-white">Core <span class="text-nu-purple-400">Competencies</span></h2>
            
            <!-- Updated grid layout to accommodate 4 items gracefully -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                
                <!-- Tile 1: Full Stack -->
                <div class="tile glass-card p-8 text-center transition duration-300 hover:shadow-nu-purple-500/30 hover:-translate-y-1">
                    <div class="icon text-nu-purple-400 text-5xl mb-4"><i class="fa-solid fa-code"></i></div>
                    <h3 class="text-2xl font-semibold text-white mb-3">Full Stack Mastery</h3>
                    <p class="text-gray-400">Expertise in Angular, React, Vue.js, Node.js, Ruby on Rails, and Elixir. Delivering resilient, end-to-end solutions.</p>
                </div>
                
                <!-- Tile 2: Architecture -->
                <div class="tile glass-card p-8 text-center transition duration-300 hover:shadow-nu-purple-500/30 hover:-translate-y-1">
                    <div class="icon text-nu-purple-400 text-5xl mb-4"><i class="fa-solid fa-server"></i></div>
                    <h3 class="text-2xl font-semibold text-white mb-3">Cloud Architecture</h3>
                    <p class="text-gray-400">Building scalable APIs and robust backend systems using PostgreSQL, MongoDB, and secured AWS infrastructure.</p>
                </div>

                <!-- Tile 3: Mobile & Innovation -->
                <div class="tile glass-card p-8 text-center transition duration-300 hover:shadow-nu-purple-500/30 hover:-translate-y-1">
                    <div class="icon text-nu-purple-400 text-5xl mb-4"><i class="fa-solid fa-mobile-screen"></i></div>
                    <h3 class="text-2xl font-semibold text-white mb-3">Mobile & R&D</h3>
                    <p class="text-gray-400">Developing cross-platform mobile apps (React Native) and driving innovation through scientific research and patents.</p>
                </div>

                <!-- NEW Tile 4: AI/LLM Mastery -->
                <div class="tile glass-card p-8 text-center transition duration-300 hover:shadow-nu-purple-500/30 hover:-translate-y-1">
                    <div class="icon text-nu-purple-400 text-5xl mb-4"><i class="fa-solid fa-brain"></i></div>
                    <h3 class="text-2xl font-semibold text-white mb-3">AI/LLM Mastery</h3>
                    <p class="text-gray-400">Designing and integrating custom LLM solutions using tools and Retrieval-Augmented Generation (RAG) on proprietary company data.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 3. PROJECTS SECTION (Image Left, Image Right) -->
    <section id="projects" class="py-20 md:py-28 px-4 md:px-8">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-4xl font-bold text-center mb-16 text-white">Selected <span class="text-nu-purple-400">Projects</span></h2>

            <!-- Project Card 1: Project Vetias (Text Left, Image Right) -->
            <div class="glass-card grid grid-cols-1 lg:grid-cols-2 gap-10 p-8 lg:p-12 mb-16 items-center transition duration-300 hover:shadow-sky-500/30">
                <!-- Content -->
                <div>
                    <span class="text-sm font-semibold text-nu-purple-400 uppercase tracking-widest">HealthTech & Telemedicine</span>
                    <h3 class="text-3xl font-bold text-white mt-2 mb-4">Project Vetias</h3>
                    <p class="text-gray-400 mb-6">
                        Developed Vetias, a specialized telemedicine platform for veterinarians. This SaaS tool enables remote case consultations, significantly improving clinical efficiency and successfully managing over 11,000 veterinary support tickets.
                    </p>
                    <p class="font-mono text-sm text-sky-400 mb-6">Tech Stack: Vue.js, Node.js, PostgreSQL, Socket.io</p>
                    <a href="#" data-project-id="vetias" class="project-detail-link text-nu-purple-400 hover:text-nu-purple-300 font-semibold transition duration-200">
                        View Telemedicine Impact <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
                <!-- Image - Now a clickable trigger for the gallery -->
                <div class="rounded-lg overflow-hidden border border-gray-700 h-64 lg:h-80 cursor-pointer project-image-trigger" data-project-id="vetias">
                    <img src="https://github.com/nywton/resume/blob/master/img/vetias.png?raw=true" alt="Vetias Telemedicine App Dashboard" class="w-full h-full object-cover transition duration-300 hover:scale-[1.05]">
                </div>
            </div>

            <!-- Project Card 2: Doe+ (Image Left, Text Right) -->
            <div class="glass-card grid grid-cols-1 lg:grid-cols-2 gap-10 p-8 lg:p-12 items-center transition duration-300 hover:shadow-nu-purple-500/30">
                 <!-- Image - Now a clickable trigger for the gallery -->
                <div class="rounded-lg overflow-hidden border border-gray-700 h-64 lg:h-80 lg:order-last cursor-pointer project-image-trigger" data-project-id="doeplus">
                    <img src="https://github.com/nywton/resume/blob/master/img/doe.jpg?raw=true" alt="Doe+ Mobile App Screenshot" class="w-full h-full object-cover transition duration-300 hover:scale-[1.05]">
                </div>
                <!-- Content -->
                <div class="lg:order-first">
                    <span class="text-sm font-semibold text-nu-purple-400 uppercase tracking-widest">Social Impact & HealthTech</span>
                    <h3 class="text-3xl font-bold text-white mt-2 mb-4">Doe+ Mobile Platform</h3>
                    <p class="text-gray-400 mb-6">
                        Architected and developed a mobile platform for blood donation scheduling. This initiative significantly increased local blood bank capacity, making a direct positive social impact.
                    </p>
                    <p class="font-mono text-sm text-sky-400 mb-6">Tech Stack: Java (Android), PHP/MySQL</p>
                    <a href="#" data-project-id="doeplus" class="project-detail-link text-nu-purple-400 hover:text-nu-purple-300 font-semibold transition duration-200">
                        Read About the Impact <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- 4. EXPERIENCE JOURNEY (Simple Vertical Timeline) -->
    <section id="experience" class="py-20 md:py-28 px-4 md:px-8 bg-gray-900/20">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl font-bold text-center mb-16 text-white">Professional <span class="text-nu-purple-400">Journey</span></h2>

            <div class="relative sm:pl-0">
                <!-- Vertical Line (The Path) -->
                <div class="absolute left-2 sm:left-1/2 w-1 bg-nu-purple-700/50 h-full transform sm:-translate-x-1/2"></div>
                
                <!-- Timeline Items (Chronological, Newest to Oldest) -->
                
                <!-- 1. Banco do Brasil (Right side on desktop) -->
                <div class="mb-10 flex items-center w-full sm:justify-end">
                    <!-- Content Wrapper. Correctly uses sm:pl-8 for spacing on the right. -->
                    <div class="sm:w-1/2 sm:pl-8 pl-8">
                        <div class="glass-card p-6 shadow-lg transition duration-300 hover:shadow-nu-purple-400/40">
                            <span class="text-sm text-gray-400">2024 - Current</span>
                            <h3 class="text-xl font-bold text-nu-purple-400 mt-1">Back-End Engineer @Banco do Brasil</h3>
                            <p class="text-gray-300 text-sm mt-1">Focus on modernizing core banking systems, ensuring high security and transaction processing efficiency.</p>
                            <p class="mt-2 text-xs font-medium text-sky-400">Tech: Java, Spring Boot, Oracle DB, Kubernetes</p>
                        </div>
                    </div>
                    <!-- Dot -->
                    <div class="absolute left-2 sm:left-1/2 transform -translate-x-1/2 w-4 h-4 bg-nu-purple-400 rounded-full border-2 border-gray-900 shadow-xl"></div>
                </div>
                
                <!-- 2. Vagas.com (Left side on desktop) -->
                <div class="mb-10 flex items-center w-full sm:justify-start">
                    <!-- Content Wrapper. Correctly uses sm:pr-8 and sm:text-right for spacing on the left. -->
                    <div class="sm:w-1/2 sm:pr-8 sm:order-last pl-8 sm:text-right">
                        <div class="glass-card p-6 shadow-lg transition duration-300 hover:shadow-sky-400/40">
                            <span class="text-sm text-gray-400">2023 - 2024</span>
                            <h3 class="text-xl font-bold text-nu-purple-400 mt-1">Software Developer @Vagas.com</h3>
                            <p class="text-gray-300 text-sm mt-1">Engineered and maintained core job platform features, ensuring stability for high-traffic operations.</p>
                            <p class="mt-2 text-xs font-medium text-sky-400">Tech: Rails, Elixir, React, SQLServer</p>
                        </div>
                    </div>
                    <!-- Dot -->
                    <div class="absolute left-2 sm:left-1/2 transform -translate-x-1/2 w-4 h-4 bg-nu-purple-400 rounded-full border-2 border-gray-900 shadow-xl sm:order-first"></div>
                </div>

                <!-- 3. Jaya Tech (Right side on desktop) -->
                <div class="mb-10 flex items-center w-full sm:justify-end">
                    <!-- Content Wrapper. Correctly uses sm:pl-8 for spacing on the right. -->
                    <div class="sm:w-1/2 sm:pl-8 pl-8">
                        <div class="glass-card p-6 shadow-lg transition duration-300 hover:shadow-nu-purple-400/40">
                            <span class="text-sm text-gray-400">Oct 2020 - Current</span>
                            <h3 class="text-xl font-bold text-nu-purple-400 mt-1">Software Engineer @Jaya Tech (Remote US Team)</h3>
                            <p class="text-gray-300 text-sm mt-1">Developed scalable health-tech solutions emphasizing secure cloud architecture and international collaboration.</p>
                            <p class="mt-2 text-xs font-medium text-sky-400">Key Focus: Remote Collaboration, Cloud Architecture</p>
                        </div>
                    </div>
                    <!-- Dot -->
                    <div class="absolute left-2 sm:left-1/2 transform -translate-x-1/2 w-4 h-4 bg-nu-purple-400 rounded-full border-2 border-gray-900 shadow-xl"></div>
                </div>

                 <!-- 4. Clip (Left side on desktop) -->
                <div class="mb-10 flex items-center w-full sm:justify-start">
                    <!-- Content Wrapper. Correctly uses sm:pr-8 and sm:text-right for spacing on the left. -->
                    <div class="sm:w-1/2 sm:pr-8 sm:order-last pl-8 sm:text-right">
                        <div class="glass-card p-6 shadow-lg transition duration-300 hover:shadow-sky-400/40">
                            <span class="text-sm text-gray-400">Oct 2018 - Current</span>
                            <h3 class="text-xl font-bold text-nu-purple-400 mt-1">Software Engineer (Front-End) @Clip</h3>
                            <p class="text-gray-300 text-sm mt-1">Spearheaded Front-End engineering for large-scale web projects, strictly applying Domain-Driven Design (DDD) principles.</p>
                            <p class="mt-2 text-xs font-medium text-sky-400">Tech: Angular, React, Vue.js, Node.js</p>
                        </div>
                    </div>
                    <!-- Dot -->
                    <div class="absolute left-2 sm:left-1/2 transform -translate-x-1/2 w-4 h-4 bg-nu-purple-400 rounded-full border-2 border-gray-900 shadow-xl sm:order-first"></div>
                </div>
                
                <!-- 5. IFAL (Right side on desktop) -->
                <div class="mb-10 flex items-center w-full sm:justify-end">
                    <!-- Content Wrapper. Correctly uses sm:pl-8 for spacing on the right. -->
                    <div class="sm:w-1/2 sm:pl-8 pl-8">
                        <div class="glass-card p-6 shadow-lg transition duration-300 hover:shadow-nu-purple-400/40">
                            <span class="text-sm text-gray-400">Jan 2014</span>
                            <h3 class="text-xl font-bold text-nu-purple-400 mt-1">Mobile & Backend Developer @IFAL</h3>
                            <p class="text-gray-300 text-sm mt-1">Architected and developed the "Doe+" mobile platform for blood donation scheduling.</p>
                            <p class="mt-2 text-xs font-medium text-sky-400">Tech: Java (Android), PHP/MySQL</p>
                        </div>
                    </div>
                    <!-- Dot -->
                    <div class="absolute left-2 sm:left-1/2 transform -translate-x-1/2 w-4 h-4 bg-nu-purple-400 rounded-full border-2 border-gray-900 shadow-xl"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- 5. IMPACT / NUMBERS SECTION (Updated for Rolling Animation) -->
    <section id="impact" class="py-20 md:py-28 px-4 md:px-8">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-4xl font-bold text-center mb-16 text-white">Measurable <span class="text-nu-purple-400">Impact</span></h2>
            
            <div class="glass-card grid grid-cols-1 sm:grid-cols-3 gap-8 p-10 md:p-16 text-center">
                
                <!-- Impact Item 1: Years Experience -->
                <div class="border-b sm:border-b-0 sm:border-r border-nu-purple-700/50 pb-8 sm:pb-0 sm:pr-8">
                    <!-- Data attributes hold the target number and suffix -->
                    <p class="text-7xl md:text-8xl font-extrabold text-nu-purple-400 mb-2">
                        <span id="stat-years" class="impact-number" data-target="10" data-suffix="+">0</span>
                        <span class="text-7xl font-extrabold text-nu-purple-400">+</span>
                    </p>
                    <p class="text-lg font-semibold text-white uppercase tracking-wider">Years Experience</p>
                </div>
                
                <!-- Impact Item 2: Software Patent -->
                <div class="border-b sm:border-b-0 sm:border-r border-nu-purple-700/50 pb-8 sm:pb-0 sm:pr-8">
                    <p class="text-7xl md:text-8xl font-extrabold text-nu-purple-400 mb-2">
                        <span id="stat-patent" class="impact-number" data-target="1" data-suffix="">0</span>
                    </p>
                    <p class="text-lg font-semibold text-white uppercase tracking-wider">Software Patent</p>
                </div>
                
                <!-- Impact Item 3: Solution Focus -->
                <div>
                    <p class="text-7xl md:text-8xl font-extrabold text-nu-purple-400 mb-2">
                        <span id="stat-focus" class="impact-number" data-target="100" data-suffix="%">0</span>
                        <span class="text-7xl font-extrabold text-nu-purple-400">%</span>
                    </p>
                    <p class="text-lg font-semibold text-white uppercase tracking-wider">Solution Focus</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 6. FOOTER / CONTACT SECTION (Updated with Avatar and Structured Links) -->
    <footer id="contact" class="glass-card py-16 px-4 border-t border-nu-purple-700/50 shadow-inner shadow-black/20">
        <div class="container mx-auto max-w-6xl">
            
            <h2 class="text-4xl font-bold text-nu-purple-400 mb-12 text-center">Get In Touch</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 items-start">
                
                <!-- Left Column: Avatar and Bio Snippet (1/3 width) -->
                <div class="md:col-span-1 flex flex-col items-center md:items-start text-center md:text-left">
                    <img src="https://avatars.githubusercontent.com/u/6857918?v=4" 
                         alt="Nywton Barros Profile Photo" 
                         class="w-32 h-32 rounded-full ring-4 ring-nu-purple-500/50 mb-4 object-cover">
                    <p class="text-2xl font-semibold text-white">Nywton Barros</p>
                    <p class="text-gray-400 text-sm mt-1">Full Stack Developer & Cloud Architect</p>
                </div>

                <!-- Right Column: Contact Ways (2/3 width) -->
                <div class="md:col-span-2 space-y-8">
                    
                    <!-- Direct Contact -->
                    <div>
                        <h3 class="text-2xl font-bold text-white mb-4 border-b border-nu-purple-700/50 pb-2">Direct Contact</h3>
                        <div class="space-y-4">
                            <!-- Email -->
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-envelope text-xl text-nu-purple-400 w-6"></i>
                                <a href="mailto:nywton.barros@gmail.com" class="text-gray-300 hover:text-nu-purple-400 transition">
                                    nywton.barros@gmail.com
                                </a>
                            </div>
                            <!-- Phone -->
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-phone-alt text-xl text-nu-purple-400 w-6"></i>
                                <a href="tel:+5582991295880" class="text-gray-300 hover:text-nu-purple-400 transition">
                                    +55 (82) 9 9129-5880 (Brazil)
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Professional Networks -->
                    <div>
                        <h3 class="text-2xl font-bold text-white mb-4 border-b border-nu-purple-700/50 pb-2">Professional Networks</h3>
                        <div class="space-y-4">
                            <!-- LinkedIn -->
                            <div class="flex items-center space-x-4">
                                <i class="fab fa-linkedin-in text-xl text-nu-purple-400 w-6"></i>
                                <a href="https://www.linkedin.com/in/nywton-barros-23a805105/" target="_blank" class="text-gray-300 hover:text-nu-purple-400 transition">
                                    linkedin.com/in/nywton-barros-23a805105
                                </a>
                            </div>
                            <!-- GitHub -->
                            <div class="flex items-center space-x-4">
                                <i class="fab fa-github text-xl text-nu-purple-400 w-6"></i>
                                <a href="https://github.com/nywton" target="_blank" class="text-gray-300 hover:text-nu-purple-400 transition">
                                    github.com/nywton
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Copyright -->
            <div class="mt-12 pt-6 border-t border-gray-700/50 text-center">
                <p class="text-gray-500 text-sm">
                    &copy; 2024 Nywton Barros. All rights reserved. | Full Stack Development & Innovation.
                </p>
            </div>
        </div>
    </footer>

    <!-- Project Detail Modal (The one with text and small images) -->
    <div id="project-modal" class="fixed inset-0 z-[100] hidden items-center justify-center p-4 bg-black/80 backdrop-blur-sm transition-opacity duration-300" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div id="modal-content-wrapper" class="glass-card w-full max-w-4xl p-6 md:p-10 relative transform translate-y-0 transition-transform duration-300 border-2 border-nu-purple-600/50 max-h-[90vh]">
            <button id="close-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-nu-purple-400 text-3xl transition duration-200" aria-label="Close modal">
                <i class="fas fa-times-circle"></i>
            </button>
            
            <!-- Modal Body: Contains all scrollable content -->
            <div id="modal-body" class="space-y-6 overflow-y-auto max-h-[calc(90vh-80px)] pr-4">
                
                <h3 id="modal-title" class="text-3xl font-extrabold text-nu-purple-400"></h3>
                <span id="modal-category" class="text-sm font-semibold text-gray-400 uppercase tracking-widest block"></span>

                <!-- Image Gallery Section (The small images inside the text modal) -->
                <div>
                    <h4 class="text-xl font-bold text-white mb-4 border-b border-gray-700/50 pb-2">Screenshots & UI</h4>
                    <div id="modal-gallery" class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                        <!-- Images will be injected here -->
                    </div>
                </div>

                <!-- Details Section -->
                <div>
                    <h4 class="text-xl font-bold text-white mb-4 border-b border-gray-700/50 pb-2">Key Achievements</h4>
                    <div id="modal-details" class="text-gray-300 space-y-4">
                        <!-- List details will be injected here -->
                    </div>
                </div>

                <p id="modal-tech" class="font-mono text-sm text-sky-400 pt-4 border-t border-gray-700/50"></p>
            </div>
        </div>
    </div>

    <!-- Image Viewer Modal (The full-screen slideshow/gallery) -->
    <div id="image-viewer-modal" class="fixed inset-0 z-[110] hidden items-center justify-center p-4 bg-black/95 backdrop-blur-sm transition-opacity duration-300" role="dialog" aria-modal="true" aria-labelledby="image-viewer-title">
        <div class="relative w-full h-full flex items-center justify-center">
            
            <!-- Close Button -->
            <button id="close-viewer-btn" class="absolute top-4 right-4 text-white hover:text-nu-purple-400 text-4xl transition duration-200 z-[120]" aria-label="Close image viewer">
                <i class="fas fa-times-circle"></i>
            </button>

            <!-- Navigation Buttons -->
            <button id="prev-btn" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-4xl md:text-5xl opacity-70 hover:opacity-100 transition duration-200 z-[120] p-3 md:p-4 bg-black/50 rounded-full" aria-label="Previous Image">
                <i class="fas fa-chevron-left"></i>
            </button>

            <button id="next-btn" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-4xl md:text-5xl opacity-70 hover:opacity-100 transition duration-200 z-[120] p-3 md:p-4 bg-black/50 rounded-full" aria-label="Next Image">
                <i class="fas fa-chevron-right"></i>
            </button>


            <!-- Image Container - Max width/height of viewport, maintaining aspect ratio -->
            <img id="viewer-image" src="" alt="Project Screenshot View" class="max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl transition duration-300 transform scale-95 md:scale-100">

        </div>
    </div>


    <!-- JavaScript for Modal and Animation Functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Main Modal Elements
            const modal = document.getElementById('project-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const projectLinks = document.querySelectorAll('.project-detail-link');
            const projectImageTriggers = document.querySelectorAll('.project-image-trigger'); 

            // Image Viewer Elements 
            const imageViewerModal = document.getElementById('image-viewer-modal');
            const closeViewerBtn = document.getElementById('close-viewer-btn');
            const viewerImage = document.getElementById('viewer-image');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            // NEW State for the Gallery Viewer
            let currentGallery = [];
            let currentImageIndex = 0;

            const projectsData = {
                // Project Vetias Data
                vetias: {
                    title: "Project Vetias: Telemedicine for Veterinarians",
                    category: "HealthTech & Telemedicine",
                    tech: "Vue.js, Node.js, PostgreSQL, Socket.io (for real-time chat)",
                    details: [
                        "Led the development of a specialized SaaS platform to facilitate remote veterinary case consultations between clinics and specialists.",
                        "Processed and managed over 11,000 resolved support tickets and patient cases, demonstrating high reliability and volume handling.",
                        "Implemented real-time communication tools (chat and video conferencing) using Socket.io to enable immediate specialist feedback.",
                        "Designed the system for secure data handling of animal health records and clinic billing information, ensuring privacy and reliability."
                    ],
                    gallery: [
                        "https://github.com/nywton/resume/blob/master/img/vetias-dashboard.png?raw=true", 
                        "https://github.com/nywton/resume/blob/master/img/vetias-chat.png?raw=true",
                        "https://github.com/nywton/resume/blob/master/img/vetias.png?raw=true" 
                    ]
                },
                // Project Doe+ Data - UPDATED IMAGES HERE
                doeplus: {
                    title: "Doe+ Mobile Platform: A Social HealthTech Initiative",
                    category: "Social Impact & HealthTech",
                    tech: "Java (Android), PHP/MySQL",
                    details: [
                        "Spearheaded the design and development of the 'Doe+' mobile application, connecting thousands of users with local blood donation centers.",
                        "The platform included geo-location services and personalized scheduling features, leading to a 25% increase in successful donation appointments.",
                        "Developed a robust and secure PHP/MySQL backend to manage donor profiles, health records, and appointment data compliance.",
                        "Received institutional recognition for providing a critical technological solution to address regional blood shortage challenges."
                    ],
                    gallery: [
                        "https://github.com/nywton/resume/blob/master/img/doe-2.jpg?raw=true", // New URL 1
                        "https://github.com/nywton/resume/blob/master/img/doe-3.jpg?raw=true", // New URL 2
                        "https://github.com/nywton/resume/blob/master/img/doe-1.jpg?raw=true"  // New URL 3
                    ]
                }
            };


            // --- GALLERY VIEWER FUNCTIONS ---

            /**
             * Updates the image source and the state of navigation buttons.
             */
            function updateViewer() {
                if (currentGallery.length === 0) {
                    closeImageViewer();
                    return;
                }

                const currentUrl = currentGallery[currentImageIndex];
                viewerImage.src = currentUrl;
                
                // Update navigation button visibility/disabled state
                prevBtn.classList.toggle('hidden', currentImageIndex === 0);
                nextBtn.classList.toggle('hidden', currentImageIndex === currentGallery.length - 1);
            }

            /**
             * Opens the secondary image viewer modal with a full gallery.
             * @param {string[]} galleryArray - The array of image URLs for the current project.
             * @param {number} startIndex - The index of the image to display first.
             */
            function openImageViewer(galleryArray, startIndex = 0) {
                if (!galleryArray || galleryArray.length === 0) return;

                currentGallery = galleryArray;
                currentImageIndex = startIndex;
                
                imageViewerModal.classList.add('modal-visible');
                document.body.style.overflow = 'hidden'; // Lock background scroll

                updateViewer();
            }

            function closeImageViewer() {
                imageViewerModal.classList.remove('modal-visible');
                // Only restore body scroll if the main detail modal is not open
                if (!modal.classList.contains('modal-visible')) {
                    document.body.style.overflow = ''; 
                }
                currentGallery = [];
                currentImageIndex = 0;
            }

            // Navigation functions
            function nextImage() {
                if (currentImageIndex < currentGallery.length - 1) {
                    currentImageIndex++;
                    updateViewer();
                }
            }

            function prevImage() {
                if (currentImageIndex > 0) {
                    currentImageIndex--;
                    updateViewer();
                }
            }

            // --- MAIN DETAIL MODAL FUNCTIONS ---

            function openModal(projectId) {
                const project = projectsData[projectId];
                if (!project) return;

                document.getElementById('modal-title').textContent = project.title;
                document.getElementById('modal-category').textContent = project.category;
                document.getElementById('modal-tech').textContent = "Tech Stack: " + project.tech;
                
                const detailListContainer = document.getElementById('modal-details');
                detailListContainer.innerHTML = ''; // Clear existing content
                
                // 1. Render Details List
                const detailList = document.createElement('ul');
                detailList.className = 'list-disc pl-5 space-y-3 text-gray-300';

                project.details.forEach(detail => {
                    const listItem = document.createElement('li');
                    listItem.textContent = detail;
                    listItem.className = 'marker:text-nu-purple-400';
                    detailList.appendChild(listItem);
                });
                detailListContainer.appendChild(detailList);

                // 2. Render Gallery Images and attach click listener
                const galleryContainer = document.getElementById('modal-gallery');
                galleryContainer.innerHTML = ''; // Clear existing images
                
                project.gallery.forEach((url, index) => {
                    const imgWrapper = document.createElement('div');
                    imgWrapper.className = 'h-52 sm:h-52 rounded-lg overflow-hidden border border-gray-700 transition duration-300 hover:shadow-xl hover:shadow-nu-purple-500/30 cursor-pointer';
                    
                    const img = document.createElement('img');
                    img.src = url;
                    img.alt = project.title + " screenshot";
                    img.className = 'w-full h-full object-cover transition duration-500 hover:scale-[1.05]';
                    img.onerror = function() {
                        this.src = "https://placehold.co/400x300/292524/a5b4fc?text=Image+Unavailable";
                        this.alt = "Placeholder: Image unavailable";
                    };
                    
                    // Attach click handler to open the image viewer, passing the full gallery and index
                    img.addEventListener('click', () => openImageViewer(project.gallery, index));

                    imgWrapper.appendChild(img);
                    galleryContainer.appendChild(imgWrapper);
                });


                modal.classList.add('modal-visible');
                document.body.style.overflow = 'hidden'; // Prevent scrolling background
            }

            function closeModal() {
                modal.classList.remove('modal-visible');
                // Only restore body scroll if the image viewer is not open
                if (!imageViewerModal.classList.contains('modal-visible')) {
                    document.body.style.overflow = '';
                }
                // Ensure the image viewer is also closed if it was open
                closeImageViewer(); 
            }
            
            // --- NUMBER ANIMATION LOGIC (UNCHANGED) ---

            const impactSection = document.getElementById('impact');
            const statElements = document.querySelectorAll('.impact-number');
            let animationTriggered = false;

            /**
             * Counts up the number inside the given element.
             * @param {HTMLElement} element - The span element to update.
             */
            function countUp(element) {
                const target = parseInt(element.getAttribute('data-target'));
                const duration = 2000; // 2 seconds
                let start = 0;
                let startTime = null;

                const step = (timestamp) => {
                    if (!startTime) startTime = timestamp;
                    const progress = timestamp - startTime;
                    const fraction = Math.min(progress / duration, 1);
                    const current = Math.floor(fraction * target);
                    
                    // Update the text content
                    element.textContent = current;

                    // If not finished, continue the animation
                    if (fraction < 1) {
                        window.requestAnimationFrame(step);
                    } else {
                        // Ensure it hits the final target value
                        element.textContent = target; 
                    }
                };

                window.requestAnimationFrame(step);
            }
            
            /**
             * Resets and runs the countUp animation for all stats.
             */
            function startStatsAnimation() {
                 if (animationTriggered) return;

                 statElements.forEach(element => {
                    // Reset to 0 before starting the count
                    element.textContent = '0'; 
                    
                    // Note: The '+' and '%' suffixes are handled in the HTML structure
                    // The countUp function only handles the numerical part.
                    countUp(element);
                 });

                 animationTriggered = true;
            }

            // Intersection Observer Setup
            if ('IntersectionObserver' in window) {
                const observer = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting && !animationTriggered) {
                            startStatsAnimation();
                            // Stop observing once the animation has been triggered
                            observer.unobserve(entry.target); 
                        }
                    });
                }, { threshold: 0.5 }); // Trigger when 50% of the section is visible

                observer.observe(impactSection);

            } else {
                // Fallback for browsers that do not support Intersection Observer
                startStatsAnimation();
            }


            // --- EVENT LISTENERS (UNCHANGED) ---

            // 1. Project Detail Links (Text)
            projectLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const projectId = e.currentTarget.getAttribute('data-project-id');
                    openModal(projectId);
                });
            });

            // 2. Project Main Image Triggers
            projectImageTriggers.forEach(trigger => {
                trigger.addEventListener('click', (e) => {
                    const projectId = e.currentTarget.getAttribute('data-project-id');
                    const project = projectsData[projectId];
                    if (project && project.gallery.length > 0) {
                        // Open the gallery starting at index 0
                        openImageViewer(project.gallery, 0);
                    }
                });
            });

            // 3. Close Modal/Viewer Buttons
            closeModalBtn.addEventListener('click', closeModal);
            closeViewerBtn.addEventListener('click', closeImageViewer);

            // 4. Gallery Navigation
            prevBtn.addEventListener('click', prevImage);
            nextBtn.addEventListener('click', nextImage);


            // 5. Click outside listeners
            modal.addEventListener('click', (e) => {
                if (e.target.id === 'project-modal') {
                    closeModal();
                }
            });

            imageViewerModal.addEventListener('click', (e) => {
                // Check if the click target is the background of the viewer, not the image or buttons
                if (e.target.id === 'image-viewer-modal') {
                    closeImageViewer();
                }
            });
            
            // 6. Global Escape key listener (handles both modals)
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    if (imageViewerModal.classList.contains('modal-visible')) {
                        closeImageViewer(); // Close image viewer first
                    } else if (modal.classList.contains('modal-visible')) {
                        closeModal(); // Then close main modal
                    }
                }
                // Also enable arrow key navigation in the viewer
                if (imageViewerModal.classList.contains('modal-visible')) {
                     if (e.key === 'ArrowRight') {
                        nextImage();
                    } else if (e.key === 'ArrowLeft') {
                        prevImage();
                    }
                }
            });
        });
    </script>
</body>
</html>
